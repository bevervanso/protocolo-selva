<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dashboard Protocolo Selva - Acompanhe seu progresso na dieta ancestral">
    <title>Dashboard | Protocolo Selva</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
</head>

<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="index.html" class="logo">
                <span class="logo-icon">üåø</span>
                <span class="logo-text">Protocolo<span class="highlight">Selva</span></span>
            </a>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="overview">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Vis√£o Geral</span>
            </a>
            <a href="#" class="nav-item" data-section="recipes">
                <span class="nav-icon">üç≥</span>
                <span class="nav-text">Gerador de Receitas</span>
            </a>
            <a href="#" class="nav-item" data-section="meals">
                <span class="nav-icon">üì∏</span>
                <span class="nav-text">Minhas Refei√ß√µes</span>
            </a>
            <a href="#" class="nav-item" data-section="progress">
                <span class="nav-icon">üìà</span>
                <span class="nav-text">Meu Progresso</span>
            </a>
            <a href="#" class="nav-item" data-section="profile">
                <span class="nav-icon">üë§</span>
                <span class="nav-text">Meu Perfil</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <button class="logout-btn" onclick="logout()">
                <span>üö™</span>
                <span>Sair</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
                <h1 id="pageTitle">Vis√£o Geral</h1>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <span class="greeting" id="userGreeting">Ol√°, Guerreiro!</span>
                    <div class="user-avatar" id="userAvatar">GS</div>
                </div>
            </div>
        </header>

        <!-- Dashboard Sections -->
        <div class="dashboard-content">
            <!-- Overview Section -->
            <section class="section active" id="section-overview">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statDays">0</span>
                            <span class="stat-label">Dias no Protocolo</span>
                        </div>
                    </div>
                    <div class="stat-card accent">
                        <div class="stat-icon">üì∏</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statMeals">0</span>
                            <span class="stat-label">Refei√ß√µes Registradas</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üç≥</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statRecipes">0</span>
                            <span class="stat-label">Receitas Geradas</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statStreak">0</span>
                            <span class="stat-label">Sequ√™ncia Atual</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card quick-actions">
                        <h3>A√ß√µes R√°pidas</h3>
                        <div class="actions-grid">
                            <button class="action-btn" onclick="switchSection('recipes')">
                                <span class="action-icon">ü§ñ</span>
                                <span>Gerar Receita</span>
                            </button>
                            <button class="action-btn" onclick="switchSection('meals')">
                                <span class="action-icon">üì∏</span>
                                <span>Registrar Refei√ß√£o</span>
                            </button>
                            <button class="action-btn" onclick="switchSection('progress')">
                                <span class="action-icon">üìä</span>
                                <span>Ver Progresso</span>
                            </button>
                            <button class="action-btn" onclick="switchSection('profile')">
                                <span class="action-icon">‚öôÔ∏è</span>
                                <span>Editar Perfil</span>
                            </button>
                        </div>
                    </div>

                    <div class="card today-plan">
                        <h3>Dica do Dia üåø</h3>
                        <div class="tip-card">
                            <p id="dailyTip">Carregando dica...</p>
                        </div>
                    </div>

                    <div class="card recent-meals">
                        <h3>√öltimas Refei√ß√µes</h3>
                        <div class="meals-list" id="recentMealsList">
                            <div class="empty-state">
                                <span class="empty-icon">üì∏</span>
                                <p>Nenhuma refei√ß√£o registrada ainda</p>
                                <button class="btn-primary btn-small" onclick="switchSection('meals')">
                                    Registrar Primeira Refei√ß√£o
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="card saved-recipes">
                        <h3>Receitas Favoritas</h3>
                        <div class="recipes-list" id="savedRecipesList">
                            <div class="empty-state">
                                <span class="empty-icon">üç≥</span>
                                <p>Nenhuma receita salva ainda</p>
                                <button class="btn-primary btn-small" onclick="switchSection('recipes')">
                                    Gerar Primeira Receita
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recipe Generator Section -->
            <section class="section" id="section-recipes">
                <div class="recipe-generator">
                    <div class="generator-header">
                        <h2>ü§ñ Gerador de Receitas com IA</h2>
                        <p>Envie uma foto dos seus ingredientes ou descreva o que voc√™ tem dispon√≠vel</p>
                    </div>

                    <div class="generator-content">
                        <div class="input-methods">
                            <div class="method-tabs">
                                <button class="method-tab active" data-method="photo">
                                    <span>üì∏</span> Enviar Foto
                                </button>
                                <button class="method-tab" data-method="text">
                                    <span>‚úçÔ∏è</span> Descrever Ingredientes
                                </button>
                            </div>

                            <div class="method-content" id="method-photo">
                                <div class="photo-upload" id="photoUpload">
                                    <input type="file" id="ingredientPhoto" accept="image/*" hidden>
                                    <div class="upload-placeholder"
                                        onclick="document.getElementById('ingredientPhoto').click()">
                                        <span class="upload-icon">üì∑</span>
                                        <p>Clique ou arraste uma foto dos ingredientes</p>
                                        <span class="upload-hint">JPG, PNG at√© 10MB</span>
                                    </div>
                                    <div class="upload-preview" id="uploadPreview" style="display: none;">
                                        <img id="previewImage" src="" alt="Preview">
                                        <button class="remove-photo" onclick="removePhoto()">‚úï</button>
                                    </div>
                                </div>
                            </div>

                            <div class="method-content" id="method-text" style="display: none;">
                                <textarea id="ingredientText"
                                    placeholder="Ex: Tenho frango, br√≥colis, ovos e azeite de oliva..."></textarea>
                            </div>

                            <div class="generator-options">
                                <div class="option-group">
                                    <label>Tipo de Refei√ß√£o</label>
                                    <select id="mealType">
                                        <option value="any">Qualquer</option>
                                        <option value="breakfast">Caf√© da Manh√£</option>
                                        <option value="lunch">Almo√ßo</option>
                                        <option value="dinner">Jantar</option>
                                        <option value="snack">Lanche</option>
                                    </select>
                                </div>
                                <div class="option-group">
                                    <label>Tempo Dispon√≠vel</label>
                                    <select id="cookTime">
                                        <option value="any">Qualquer</option>
                                        <option value="15">At√© 15 minutos</option>
                                        <option value="30">At√© 30 minutos</option>
                                        <option value="60">At√© 1 hora</option>
                                    </select>
                                </div>
                            </div>

                            <button class="btn-primary btn-large btn-full" onclick="generateRecipe()">
                                <span>üåø</span> Gerar Receita Selva
                            </button>
                        </div>

                        <div class="generated-recipe" id="generatedRecipe" style="display: none;">
                            <div class="recipe-card">
                                <div class="recipe-header">
                                    <h3 id="recipeName">Nome da Receita</h3>
                                    <button class="save-recipe-btn" onclick="saveCurrentRecipe()">
                                        <span>üíæ</span> Salvar
                                    </button>
                                </div>
                                <div class="recipe-meta">
                                    <span><span class="meta-icon">‚è±Ô∏è</span> <span id="recipeTime">30min</span></span>
                                    <span><span class="meta-icon">üî•</span> <span
                                            id="recipeCalories">450kcal</span></span>
                                    <span><span class="meta-icon">ü•©</span> <span id="recipeProtein">45g
                                            prote√≠na</span></span>
                                </div>
                                <div class="recipe-section">
                                    <h4>ü•ò Ingredientes</h4>
                                    <ul id="recipeIngredients"></ul>
                                </div>
                                <div class="recipe-section">
                                    <h4>üë®‚Äçüç≥ Modo de Preparo</h4>
                                    <ol id="recipeSteps"></ol>
                                </div>
                                <div class="recipe-tips">
                                    <h4>üí° Dica Selva</h4>
                                    <p id="recipeTip">Dica especial aqui</p>
                                </div>
                            </div>
                            <button class="btn-ghost btn-full" onclick="resetGenerator()">
                                Gerar Outra Receita
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Meals Section -->
            <section class="section" id="section-meals">
                <div class="meals-header">
                    <h2>üì∏ Minhas Refei√ß√µes</h2>
                    <button class="btn-primary" onclick="openMealModal()">
                        <span>+</span> Registrar Refei√ß√£o
                    </button>
                </div>

                <div class="meals-filter">
                    <button class="filter-btn active" data-filter="all">Todas</button>
                    <button class="filter-btn" data-filter="breakfast">Caf√©</button>
                    <button class="filter-btn" data-filter="lunch">Almo√ßo</button>
                    <button class="filter-btn" data-filter="dinner">Jantar</button>
                    <button class="filter-btn" data-filter="snack">Lanche</button>
                </div>

                <div class="meals-grid" id="mealsGrid">
                    <div class="empty-state full">
                        <span class="empty-icon">üì∏</span>
                        <h3>Nenhuma refei√ß√£o registrada</h3>
                        <p>Comece a registrar suas refei√ß√µes para acompanhar seu progresso!</p>
                        <button class="btn-primary" onclick="openMealModal()">
                            Registrar Primeira Refei√ß√£o
                        </button>
                    </div>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="section" id="section-progress">
                <div class="progress-header">
                    <h2>üìà Meu Progresso</h2>
                    <button class="btn-primary" onclick="openProgressModal()">
                        <span>+</span> Registrar Peso
                    </button>
                </div>

                <div class="progress-stats">
                    <div class="progress-card">
                        <span class="progress-label">Peso Inicial</span>
                        <span class="progress-value" id="startWeight">--</span>
                        <span class="progress-unit">kg</span>
                    </div>
                    <div class="progress-card accent">
                        <span class="progress-label">Peso Atual</span>
                        <span class="progress-value" id="currentWeight">--</span>
                        <span class="progress-unit">kg</span>
                    </div>
                    <div class="progress-card">
                        <span class="progress-label">Total Perdido</span>
                        <span class="progress-value" id="totalLost">--</span>
                        <span class="progress-unit">kg</span>
                    </div>
                    <div class="progress-card">
                        <span class="progress-label">Meta</span>
                        <span class="progress-value" id="goalWeight">--</span>
                        <span class="progress-unit">kg</span>
                    </div>
                </div>

                <div class="progress-chart-container">
                    <div class="chart-card">
                        <h3>Evolu√ß√£o do Peso</h3>
                        <div class="chart-area" id="weightChart">
                            <div class="empty-state">
                                <span class="empty-icon">üìä</span>
                                <p>Registre seu peso para ver o gr√°fico</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="progress-history">
                    <h3>Hist√≥rico de Registros</h3>
                    <div class="history-list" id="progressHistory">
                        <div class="empty-state">
                            <p>Nenhum registro de peso ainda</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section class="section" id="section-profile">
                <div class="profile-container">
                    <div class="profile-header-card">
                        <div class="profile-avatar" id="profileAvatar">GS</div>
                        <div class="profile-info">
                            <h2 id="profileName">Nome do Usu√°rio</h2>
                            <p id="profileEmail">email@exemplo.com</p>
                            <span class="profile-badge">üåø Guerreiro Selva</span>
                        </div>
                    </div>

                    <form class="profile-form" id="profileForm" onsubmit="saveProfile(event)">
                        <div class="form-section">
                            <h3>Informa√ß√µes Pessoais</h3>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="profileNameInput">Nome Completo</label>
                                    <input type="text" id="profileNameInput" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileEmailInput">Email</label>
                                    <input type="email" id="profileEmailInput" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Dados F√≠sicos</h3>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="profileWeight">Peso Atual (kg)</label>
                                    <input type="number" id="profileWeight" step="0.1" min="30" max="300">
                                </div>
                                <div class="form-group">
                                    <label for="profileHeight">Altura (cm)</label>
                                    <input type="number" id="profileHeight" min="100" max="250">
                                </div>
                                <div class="form-group">
                                    <label for="profileGoal">Objetivo</label>
                                    <select id="profileGoal">
                                        <option value="lose">Perder Peso</option>
                                        <option value="maintain">Manter Peso</option>
                                        <option value="gain">Ganhar Massa</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="profileGoalWeight">Peso Meta (kg)</label>
                                    <input type="number" id="profileGoalWeight" step="0.1" min="30" max="200">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Prefer√™ncias Alimentares</h3>
                            <div class="preferences-grid">
                                <label class="preference-item">
                                    <input type="checkbox" id="prefBeef" checked>
                                    <span>ü•© Carne Bovina</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="prefChicken" checked>
                                    <span>üçó Frango</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="prefFish" checked>
                                    <span>üêü Peixe</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="prefEggs" checked>
                                    <span>ü•ö Ovos</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="prefDairy">
                                    <span>üßÄ Latic√≠nios</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="prefNuts" checked>
                                    <span>ü•ú Oleaginosas</span>
                                </label>
                            </div>
                        </div>

                        <button type="submit" class="btn-primary btn-large">
                            üíæ Salvar Altera√ß√µes
                        </button>
                    </form>
                </div>
            </section>
        </div>
    </main>

    <!-- Meal Modal -->
    <div class="modal" id="mealModal">
        <div class="modal-overlay" onclick="closeMealModal()"></div>
        <div class="modal-content modal-large">
            <button class="modal-close" onclick="closeMealModal()">&times;</button>
            <div class="modal-header">
                <span class="modal-icon">üì∏</span>
                <h2>Registrar Refei√ß√£o</h2>
                <p>Adicione uma foto e detalhes da sua refei√ß√£o</p>
            </div>
            <form class="meal-form" onsubmit="saveMeal(event)">
                <div class="meal-photo-upload">
                    <input type="file" id="mealPhoto" accept="image/*" hidden>
                    <div class="upload-area" onclick="document.getElementById('mealPhoto').click()">
                        <span class="upload-icon">üì∑</span>
                        <p>Adicionar foto da refei√ß√£o</p>
                    </div>
                    <div class="meal-preview" id="mealPreview" style="display: none;">
                        <img id="mealPreviewImage" src="" alt="Preview">
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="mealName">Nome da Refei√ß√£o</label>
                        <input type="text" id="mealName" placeholder="Ex: Omelete com bacon" required>
                    </div>
                    <div class="form-group">
                        <label for="mealTypeSelect">Tipo</label>
                        <select id="mealTypeSelect" required>
                            <option value="breakfast">Caf√© da Manh√£</option>
                            <option value="lunch">Almo√ßo</option>
                            <option value="dinner">Jantar</option>
                            <option value="snack">Lanche</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="mealDescription">Descri√ß√£o (opcional)</label>
                    <textarea id="mealDescription"
                        placeholder="Descreva os ingredientes ou como preparou..."></textarea>
                </div>
                <button type="submit" class="btn-primary btn-full">Salvar Refei√ß√£o</button>
            </form>
        </div>
    </div>

    <!-- Progress Modal -->
    <div class="modal" id="progressModal">
        <div class="modal-overlay" onclick="closeProgressModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeProgressModal()">&times;</button>
            <div class="modal-header">
                <span class="modal-icon">üìä</span>
                <h2>Registrar Peso</h2>
                <p>Acompanhe sua evolu√ß√£o</p>
            </div>
            <form class="progress-form" onsubmit="saveProgress(event)">
                <div class="form-group">
                    <label for="progressWeight">Peso Atual (kg)</label>
                    <input type="number" id="progressWeight" step="0.1" min="30" max="300" required>
                </div>
                <div class="form-group">
                    <label for="progressDate">Data</label>
                    <input type="date" id="progressDate" required>
                </div>
                <div class="form-group">
                    <label for="progressNotes">Observa√ß√µes (opcional)</label>
                    <textarea id="progressNotes" placeholder="Como voc√™ est√° se sentindo?"></textarea>
                </div>
                <button type="submit" class="btn-primary btn-full">Salvar Registro</button>
            </form>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span class="toast-icon">‚úì</span>
        <span class="toast-message" id="toastMessage">Mensagem</span>
    </div>

    <script src="api.js"></script>
    <script src="app.js"></script>
    <script src="dashboard.js"></script>
</body>

</html>